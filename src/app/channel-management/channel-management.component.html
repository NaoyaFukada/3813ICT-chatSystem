<div>
  <div
    *ngFor="let channel of selectedGroup.channels; let i = index"
    class="channel-item d-flex justify-content-between align-items-center mb-3"
  >
    <input
      type="text"
      class="form-control bg-transparent text-white border-none p-0"
      [(ngModel)]="editingChannelNames[i]"
      name="editingChannelNames[i]"
      [readonly]="!isEditing[i]"
      [ngClass]="{ editable: isEditing[i] }"
      placeholder="Channel name"
      #channelInput
    />
    <div class="d-flex">
      <button
        class="btn btn-outline-secondary btn-sm me-2"
        *ngIf="!isEditing[i]"
        (click)="editChannel(i, channelInput)"
      >
        Edit
      </button>
      <button
        class="btn btn-outline-success btn-sm me-2"
        *ngIf="isEditing[i]"
        (click)="saveChannelName(i)"
      >
        Save
      </button>
      <button
        class="btn btn-outline-danger btn-sm me-2"
        *ngIf="isEditing[i]"
        (click)="cancelEdit(i)"
      >
        Cancel
      </button>
      <button
        class="btn btn-outline-danger btn-sm"
        *ngIf="!isEditing[i]"
        (click)="deleteChannel(selectedGroup, channel, i)"
      >
        Delete
      </button>
    </div>
  </div>

  <!-- New Channel Input Field -->
  <div
    *ngIf="addingChannel"
    class="d-flex justify-content-between align-items-center mb-3"
    (click)="AddfocusInputField($event)"
  >
    <div>
      <input
        type="text"
        #channelNameInput
        class="form-control bg-transparent text-white border-none p-0"
        placeholder="Enter new channel name..."
        [(ngModel)]="newChannelName"
        (keyup.enter)="saveChannel()"
      />
    </div>
    <div>
      <button
        class="btn btn-outline-success btn-sm me-2"
        (click)="saveChannel(); $event.stopPropagation()"
      >
        Create
      </button>
      <button
        class="btn btn-outline-danger btn-sm"
        (click)="cancelChannel(); $event.stopPropagation()"
      >
        Cancel
      </button>
    </div>
  </div>

  <button class="btn btn-success w-100" (click)="startAddingChannel()">
    Add New Channel
  </button>
</div>
